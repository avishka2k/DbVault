{% extends "file-manager-wrapper.html" %}

{% block file_manager_content %}
<div class="file-manager-folders">
  <div class="d-flex p-3 flex-wrap gap-2 align-items-center justify-content-between border-bottom">
    <div>
      <h6 class="fw-semibold mb-0">Folders</h6>
    </div>
    <div class="d-flex gap-2">
      <button id="folders-close-btn" class="d-sm-none d-block btn btn-icon btn-sm btn-danger-light">
        <i class="ri-close-fill"></i>
      </button>
      <button class="btn btn-sm btn-primary d-flex align-items-center justify-content-center btn-wave waves-light" data-bs-toggle="modal" data-bs-target="#create-folder"><i class="ri-add-circle-line align-middle me-1"></i>Create Folder</button>
      <div class="modal fade" id="create-folder" tabindex="-1" aria-labelledby="create-folder" data-bs-keyboard="false" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <form id="addNewTable">
          <div class="modal-content">
            <div class="modal-header">
              <h6 class="modal-title" id="staticBackdropLabel">Create Folder</h6>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <label for="new_table_name" class="form-label">Folder Name</label>
              <input type="text" class="form-control" id="new_table_name" placeholder="Folder Name" required/>
              <label for="create-folder1" class="form-label">Columns</label>
              <select class="form-select" id="create-folder1">
                {% for index in range(5) %}
                <option value="{{ loop.index }}">{{ loop.index }}</option>
                {% endfor %}
              </select>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-sm btn-icon btn-light" data-bs-dismiss="modal">
                <i class="ri-close-fill"></i>
              </button>
              <button type="submit" class="btn btn-sm btn-success">Create</button>
            </div>
          </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <div class="p-3 file-folders-container" id="file-folders-container">
    <div class="d-flex mb-3 align-items-center justify-content-between">
      <p class="mb-0 fw-semibold fs-14">My Files</p>
      <button class="btn btn-sm btn-primary-light">View All</button>
    </div>
    <div class="row mb-3">
      <div class="col-xxl-3 col-xl-6 col-lg-6 col-md-6">
        <div class="card custom-card shadow-none bg-light">
          <div class="card-body p-3">
            <a href="javascript:void(0);">
              <div class="d-flex justify-content-between flex-wrap">
                <div class="file-format-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" class="svg-primary" enable-background="new 0 0 24 24" viewBox="0 0 24 24">
                    <path opacity="0.3" d="M19 2H5a3.009 3.009 0 0 0-3 3v8.86l3.88-3.88a3.075 3.075 0 0 1 4.24 0l2.871 2.887.888-.888a3.008 3.008 0 0 1 4.242 0L22 15.86V5a3.009 3.009 0 0 0-3-3z" />
                    <path opacity="1" d="M10.12 9.98a3.075 3.075 0 0 0-4.24 0L2 13.86V19a3.009 3.009 0 0 0 3 3h14c.815 0 1.595-.333 2.16-.92L10.12 9.98z" />
                    <path opacity="0.1" d="m22 15.858-3.879-3.879a3.008 3.008 0 0 0-4.242 0l-.888.888 8.165 8.209c.542-.555.845-1.3.844-2.076v-3.142z" />
                  </svg>
                </div>
                <div>
                  <span class="fw-semibold mb-1"> Images </span>
                  <span class="fs-10 d-block text-muted text-end"> 273.54MB </span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
      <div class="col-xxl-3 col-xl-6 col-lg-6 col-md-6">
        <div class="card custom-card shadow-none bg-light">
          <div class="card-body p-3">
            <a href="javascript:void(0);">
              <div class="d-flex justify-content-between flex-wrap">
                <div class="file-format-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" class="svg-secondary" enable-background="new 0 0 24 24" viewBox="0 0 24 24">
                    <path opacity="0.3" d="M14 18H5a3.003 3.003 0 0 1-3-3V9a3.003 3.003 0 0 1 3-3h9a3.003 3.003 0 0 1 3 3v6a3.003 3.003 0 0 1-3 3z" />
                    <path opacity="1" d="M21.895 7.554a1 1 0 0 0-1.342-.449l-3.564 1.783c.001.038.01.073.011.112v6c0 .039-.01.074-.011.112l3.564 1.783A1 1 0 0 0 22 16V8a1 1 0 0 0-.105-.446z" />
                  </svg>
                </div>
                <div>
                  <span class="fw-semibold mb-1"> Videos </span>
                  <span class="fs-10 d-block text-muted text-end"> 1.45GB </span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
      <div class="col-xxl-3 col-xl-6 col-lg-6 col-md-6">
        <div class="card custom-card shadow-none bg-light">
          <div class="card-body p-3">
            <a href="javascript:void(0);">
              <div class="d-flex justify-content-between flex-wrap">
                <div class="file-format-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" class="svg-warning" viewBox="0 0 24 24">
                    <path opacity="0.3" d="m20 9-7-7H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3Z" />
                    <path opacity="1" d="M20 9h-5a2 2 0 0 1-2-2V2zm-5 9H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2zm0-4H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2zm-5-4H9a1 1 0 0 1 0-2h1a1 1 0 0 1 0 2z" />
                  </svg>
                </div>
                <div>
                  <span class="fw-semibold mb-1"> Docs </span>
                  <span class="fs-10 d-block text-muted text-end"> 432.29KB </span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
      <div class="col-xxl-3 col-xl-6 col-lg-6 col-md-6">
        <div class="card custom-card shadow-none bg-light">
          <div class="card-body p-3">
            <a href="javascript:void(0);">
              <div class="d-flex justify-content-between flex-wrap">
                <div class="file-format-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" class="svg-info" enable-background="new 0 0 24 24" viewBox="0 0 24 24">
                    <path opacity="0.3" d="M6 21H3a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h3a3.003 3.003 0 0 1 3 3v2a3.003 3.003 0 0 1-3 3zm15 0h-3a3.003 3.003 0 0 1-3-3v-2a3.003 3.003 0 0 1 3-3h3a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1z" />
                    <path opacity="1" d="M12 3C6.477 3 2 7.477 2 13v1a1 1 0 0 1 1-1h1a8 8 0 0 1 16 0h1a1 1 0 0 1 1 1v-1c0-5.523-4.477-10-10-10z" />
                  </svg>
                </div>
                <div>
                  <span class="fw-semibold mb-1"> Music </span>
                  <span class="fs-10 d-block text-muted text-end"> 289MB </span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
      <div class="col-xxl-3 col-xl-6 col-lg-6 col-md-6">
        <div class="card custom-card shadow-none bg-light">
          <div class="card-body p-3">
            <a href="javascript:void(0);">
              <div class="d-flex justify-content-between flex-wrap">
                <div class="file-format-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" class="svg-success" enable-background="new 0 0 24 24" viewBox="0 0 24 24">
                    <circle cx="12" cy="4" r="2" opacity="0.3" />
                    <path fill="#b7d7fd" d="M12 6a1.98 1.98 0 0 1-1-.277V8a1 1 0 0 0 2 0V5.723A1.98 1.98 0 0 1 12 6z" />
                    <path opacity="0.3" d="M17 22H7a3.003 3.003 0 0 1-3-3v-9a3.003 3.003 0 0 1 3-3h10a3.003 3.003 0 0 1 3 3v9a3.003 3.003 0 0 1-3 3z" />
                    <path opacity="1" d="M14.97 12.243 16.28 7H7.72l1.31 5.243A1 1 0 0 0 10 13h4a1 1 0 0 0 .97-.757z" />
                    <path fill="#b7d7fd" d="M2 18a1 1 0 0 1-1-1v-2a1 1 0 1 1 2 0v2a1 1 0 0 1-1 1zm20 0a1 1 0 0 1-1-1v-2a1 1 0 1 1 2 0v2a1 1 0 0 1-1 1z" />
                    <circle cx="9" cy="16" r="1" opacity="1" />
                    <circle cx="15" cy="16" r="1" opacity="1" />
                  </svg>
                </div>
                <div>
                  <span class="fw-semibold mb-1"> Apps </span>
                  <span class="fs-10 d-block text-muted text-end"> 12.56GB </span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
      <div class="col-xxl-3 col-xl-6 col-lg-6 col-md-6">
        <div class="card custom-card shadow-none bg-light">
          <div class="card-body p-3">
            <a href="javascript:void(0);">
              <div class="d-flex justify-content-between flex-wrap">
                <div class="file-format-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" class="svg-danger" viewBox="0 0 24 24">
                    <path opacity="1" d="M15.707 13.293a1 1 0 0 0-1.414 0L13 14.586V3a1 1 0 0 0-2 0v11.586l-1.293-1.293a1 1 0 0 0-1.414 1.414l3 3a1 1 0 0 0 1.414 0l3-3a1 1 0 0 0 0-1.414Z" />
                    <path opacity="0.3" d="M18 9h-5v5.586l1.293-1.293a1 1 0 0 1 1.414 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 1.414-1.414L11 14.586V9H6a3.003 3.003 0 0 0-3 3v7a3.003 3.003 0 0 0 3 3h12a3.003 3.003 0 0 0 3-3v-7a3.003 3.003 0 0 0-3-3Z" />
                  </svg>
                </div>
                <div>
                  <span class="fw-semibold mb-1"> Downloads </span>
                  <span class="fs-10 d-block text-muted text-end"> 3.12GB </span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
      <div class="col-xxl-3 col-xl-6 col-lg-6 col-md-6">
        <div class="card custom-card shadow-none bg-light">
          <div class="card-body p-3">
            <a href="javascript:void(0);">
              <div class="d-flex justify-content-between flex-wrap">
                <div class="file-format-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" class="svg-purple" viewBox="0 0 24 24">
                    <path opacity="0.3" d="M17 21H7a3.003 3.003 0 0 1-3-3V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v10a3.003 3.003 0 0 1-3 3Z" />
                    <path opacity="1" d="M19 9H5a3 3 0 0 1 0-6h14a3 3 0 0 1 0 6zm-5 4h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z" />
                  </svg>
                </div>
                <div>
                  <span class="fw-semibold mb-1"> Archives </span>
                  <span class="fs-10 d-block text-muted text-end"> 28.5MB </span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
      <div class="col-xxl-3 col-xl-6 col-lg-6 col-md-6">
        <div class="card custom-card shadow-none bg-light">
          <div class="card-body p-3">
            <a href="javascript:void(0);">
              <div class="d-flex justify-content-between flex-wrap">
                <div class="file-format-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" class="svg-pink" viewBox="0 0 24 24">
                    <rect width="9" height="9" x="2" y="2" opacity="1" rx="1" />
                    <rect width="9" height="9" x="2" y="13" opacity="0.3" rx="1" />
                    <rect width="9" height="9" x="13" y="2" opacity="0.3" rx="1" />
                    <rect width="9" height="9" x="13" y="13" opacity="0.3" rx="1" />
                  </svg>
                </div>
                <div>
                  <span class="fw-semibold mb-1"> More </span>
                  <span class="fs-10 d-block text-muted text-end"> 32GB </span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex mb-3 align-items-center justify-content-between">
      <p class="mb-0 fw-semibold fs-14">Folders</p>
      <button class="btn btn-sm btn-primary-light">View All</button>
    </div>
    <div class="row mb-3">
      {% for folder in table_info %}
      {% if folder.TABLE_NAME != 'recycle_bin' and folder.TABLE_NAME != 'recents' %}
      <div class="col-xxl-3 col-xl-6 col-lg-6 col-md-6">
        <div class="card border custom-card shadow-none card_click" data-tablename="{{ folder.TABLE_NAME }}" data-tabledate="{{ folder.create_time_formatted }}" data-tablesize="{{ folder.data_length_mb }}">
          <div class="card-body bg-primary-transparent-hover">
            <div class="mb-4 folder-svg-container d-flex flex-wrap justify-content-between align-items-top">
              <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="svg-primary" data-name="Layer 1" viewBox="0 0 24 24">
                  <path opacity="1" d="M19.97586,10V9a3,3,0,0,0-3-3H10.69678l-.31622-.94868A3,3,0,0,0,7.53451,3H3.97586a3,3,0,0,0-3,3V19a2,2,0,0,0,2,2H3.3067a2,2,0,0,0,1.96774-1.64223l1.40283-7.71554A2,2,0,0,1,8.645,10Z" />
                  <path opacity="0.3" d="M22.02386,10H8.645a2,2,0,0,0-1.96777,1.64221L5.27441,19.35773A2,2,0,0,1,3.3067,21H19.55292a2,2,0,0,0,1.96771-1.64227l1.48712-8.17884A1,1,0,0,0,22.02386,10Z" />
                </svg>
              </div>
              <div>
                <div class="dropdown">
                  <button class="btn btn-sm btn-icon btn-primary-light btn-wave waves-light" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="ri-more-2-fill"></i>
                  </button>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item dropTable-confirm" data-drop_table="{{folder.TABLE_NAME}}" href="javascript:void(0);">Delete</a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="javascript:void(0);">Rename</a>
                    </li>
<!--                    <li>-->
<!--                      <a class="dropdown-item" href="javascript:void(0);">Hide Folder</a>-->
<!--                    </li>-->
                  </ul>
                </div>
              </div>
            </div>
            <p class="fs-14 fw-semibold mb-1 lh-1">
              <a href="javascript:void(0);">{{ folder.TABLE_NAME | capitalize }}</a>
            </p>
            <div class="d-flex align-items-center justify-content-between flex-wrap">
              <div>
                <span class="text-muted fs-12"> {{ folder.table_items }} Files </span>
              </div>
              <div>
                <span class="text-default fw-semibold"> {{ folder.data_length_mb }}MB </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endif %}
      {% endfor %}
    </div>
    <div class="d-flex mb-3 align-items-center justify-content-between">
      <p class="mb-0 fw-semibold fs-14">Recents</p>
      <button class="btn btn-sm btn-primary-light">View All</button>
    </div>
    <div class="row">
      <div class="col-xl-12">
        <div class="table-responsive border border-bottom-0">
          <table class="table text-nowrap table-hover">
            <thead>
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Folder Name</th>
                <th scope="col">File Count</th>
                <th scope="col">Date Created</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody class="files-list">
              <tr>
                <th scope="row">
                  <div class="d-flex align-items-center">
                    <div class="me-2">
                      <span class="avatar avatar-xs">
                        <img src="{{ url_for('static', filename='assets/images/media/file-manager/1.png') }}" alt="" />
                      </span>
                    </div>
                    <div>VID-00292312-SPK823.mp4</div>
                  </div>
                </th>
                <td>Videos</td>
                <td>87MB</td>
                <td>22,Nov 2022</td>
                <td>
                  <div class="hstack gap-2 fs-15">
                    <a href="javascript:void(0);" class="btn btn-icon btn-sm btn-info-transparent rounded-pill"><i class="ri-eye-line"></i></a>
                    <a href="javascript:void(0);" class="btn btn-icon btn-sm btn-danger-transparent rounded-pill"><i class="ri-delete-bin-line"></i></a>
                  </div>
                </td>
              </tr>

            </tbody>
            <tfoot>
              <tr>
                <td colspan="5">
                  <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-end mb-0">
                      <li class="page-item disabled">
                        <a class="page-link" href="javascript:void(0);">Previous</a>
                      </li>
                      <li class="page-item">
                        <a class="page-link" href="javascript:void(0);">1</a>
                      </li>
                      <li class="page-item">
                        <a class="page-link" href="javascript:void(0);">2</a>
                      </li>
                      <li class="page-item">
                        <a class="page-link" href="javascript:void(0);">Next</a>
                      </li>
                    </ul>
                  </nav>
                </td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}